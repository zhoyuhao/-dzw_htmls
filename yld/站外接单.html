<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>站外接单</title>
		<link rel="stylesheet" type="text/css" href="../css/index.css" />
		<script type="text/javascript" src="../js/vue.js"></script>
		<script type="text/javascript" src="../js/jquery-1.12.4.js"></script>
		<script type="text/javascript" src="../js/jq_ajax_config.js"></script>
		<style type="text/css">
			* {
				text-align: center;
			}
			
			.winput {
				width: 120px;
			}
		</style>
	</head>

	<body>
		<div id="zhanwai">
			<el-container>
				<el-main>
					<el-form :model="form" label-width="100px" size="small" label-position="left" :inline="true">
						<el-form-item label="会员卡号：">
							<el-input v-model="form.usercard"></el-input>
						</el-form-item>
						<el-form-item label="车牌号码：">
							<el-input v-model="form.carcard"></el-input>
						</el-form-item>
						<el-form-item>
							<el-button type="primary" size="small">查询信息</el-button>
							<el-button @click="centerDialogVisible = true" type="primary" size="small">维修接车</el-button>
						</el-form-item>
					</el-form>
					<el-form :model="form" label-width="100px" size="small" label-position="left" :inline="true">
						<el-form-item label="积分：">
							<el-input class="winput" v-model="form.integral" disabled></el-input>
						</el-form-item>
						<el-form-item label="储值卡余额：">
							<el-input class="winput" v-model="form.valuecard" disabled></el-input>
						</el-form-item>
						<el-form-item label="累计欠款：">
							<el-input class="winput" v-model="form.debt" disabled></el-input>
						</el-form-item>
						<el-form-item label="订金余额：">
							<el-input class="winput" v-model="form.price" disabled></el-input>
						</el-form-item>
					</el-form>
					<el-table :data="userdata" size="small" style="display: inline-block;width: 45%;">
						<el-table-column label="客户信息">
							<el-table-column label="用户姓名" prop="name" align="center" show-overflow-tooltip>
							</el-table-column>
							<el-table-column label="用户类型" prop="type" align="center" show-overflow-tooltip>
							</el-table-column>
							<el-table-column label="用户生日" prop="birthday" align="center" show-overflow-tooltip>
							</el-table-column>
							<el-table-column label="手机号码" prop="phone" align="center" show-overflow-tooltip>
							</el-table-column>
							<el-table-column label="用户地址" prop="address" align="center" show-overflow-tooltip>
							</el-table-column>
						</el-table-column>
					</el-table>
					<el-table :data="cardata" size="small" style="display: inline-block;width: 45%;">
						<el-table-column label="车辆信息">
							<el-table-column label="车辆品牌" prop="brand" align="center" show-overflow-tooltip>
							</el-table-column>
							<el-table-column label="车辆颜色" prop="color" align="center" show-overflow-tooltip>
							</el-table-column>
							<el-table-column label="车险日期" prop="dated" align="center" show-overflow-tooltip>
							</el-table-column>
							<el-table-column label="车类型" prop="cartype" align="center" show-overflow-tooltip>
							</el-table-column>
							<el-table-column label="发动机" prop="engine" align="center" show-overflow-tooltip>
							</el-table-column>
							<el-table-column label="保养日期" prop="mdate" align="center" show-overflow-tooltip>
							</el-table-column>
						</el-table-column>
					</el-table>
					<el-tabs value="first" style="margin: 0px auto;margin-top: 20px;width: 90%;">
						<el-tab-pane label="作业中车辆" name="first">
							<el-table :data="fixdata" size="small" height="250">
								<el-table-column label="维修单号" prop="fixid" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="接车人" prop="pname" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="业务类型" prop="tos" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="顾客姓名" prop="cname" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="车牌号码" prop="carid" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="手机号码" prop="phone" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="会员卡号" prop="usercard" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="维修状态" prop="status" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="调度派工" align="center" show-overflow-tooltip>
									<template slot-scope="temp">
										<el-button @click="centerDialogVisible2 = true" circle size="small" icon="el-icon-thumb"></el-button>
									</template>
								</el-table-column>
							</el-table>
						</el-tab-pane>
						<el-tab-pane label="维修历史" name="second">
							<el-table :data="fixhistory" size="small" height="250">
								<el-table-column label="维修单号" prop="fixid" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="接车时间" prop="pctime" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="业务类型" prop="tos" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="顾客姓名" prop="cname" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="车牌号码" prop="carid" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="手机号码" prop="phone" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="会员卡号" prop="usercard" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="结算时间" prop="rtime" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="消费金额" prop="price" align="center" show-overflow-tooltip>
								</el-table-column>
							</el-table>
						</el-tab-pane>
					</el-tabs>
					<el-dialog title="新增维修单" width="70%" :visible.sync="centerDialogVisible" center :close-on-click-modal="false" :close-on-press-escape="false" :modal="false" :show-close="false">
						<div>
							<el-form label-width="100px" :inline="true" size="mini" style="width: 100%;">
								<el-form-item label="维修单号：">
									<el-input v-model.number="formfix.fixid" disabled></el-input>
								</el-form-item>
								<el-form-item label="接车派车：">
									<el-select v-model="formfix.pickcar" placeholder="请选择" size="mini" style="width: 178px;">
										<el-option v-for="item in oppickcar" :key="item.value" :label="item.label" :value="item.value">
										</el-option>
									</el-select>
								</el-form-item>
								<el-form-item label="车牌号码：">
									<el-input v-model.number="formfix.carcard"></el-input>
								</el-form-item>
								<el-form-item label="顾客姓名：">
									<el-input v-model.number="formfix.cname"></el-input>
								</el-form-item>
								<el-form-item label="手机号码：">
									<el-input v-model.number="formfix.phone"></el-input>
								</el-form-item>
								<el-form-item label="业务类型：">
									<el-select v-model="formfix.tos" placeholder="请选择" size="mini" style="width: 178px;">
										<el-option v-for="item in optos" :key="item.value" :label="item.label" :value="item.value">
										</el-option>
									</el-select>
								</el-form-item>
								<el-form-item label="维修项目：">
									<el-select filterable v-model="formfix.fixitem" placeholder="请选择" size="mini" style="width: 178px;">
										<el-option v-for="item in fixitems" :key="item.value" :label="item.label" :value="item.value">
										</el-option>
									</el-select>
									次数/数量：
									<el-input v-model.nunmber="fixcount" style="width: 150px;" size="mini"></el-input>
									<el-button type="primary">添加维修项目</el-button>
								</el-form-item>
							</el-form>
							<el-table :data="fixitemdata" size="mini" height="200">
								<el-table-column label="维修项目" prop="fixname" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="项目价格" prop="price" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="次数/数量" prop="fixcount" align="center" show-overflow-tooltip>
								</el-table-column>
								<el-table-column label="操作" align="center" show-overflow-tooltip>
									<template slot-scope="temp">
										<el-button circle size="small" icon="el-icon-close"></el-button>
									</template>
								</el-table-column>
							</el-table>
						</div>
						<span slot="footer" class="dialog-footer">
							<el-button @click="centerDialogVisible = false" size="small">取 消</el-button>
						  	<el-button type="primary" @click="centerDialogVisible = false" size="small">确 定</el-button>
						</span>
					</el-dialog>
					<el-dialog title="调度派工" :visible.sync="centerDialogVisible2" center :close-on-click-modal="false" :close-on-press-escape="false" :modal="false" :show-close="false">
						<div>
							<el-form label-width="100px" size="small" label-position="top">
								<el-form-item label="维修技工：">
									<el-select filterable v-model="formfix.fixgrop" placeholder="请选择" size="mini" style="width: 178px;">
										<el-option-group v-for="item in opfixgrop" :key="item.value" :label="item.label" :value="item.value">
											<el-option v-for="obj in item.options" :key="obj.value" :label="obj.label" :value="obj.value">
											</el-option>
										</el-option-group>
									</el-select>
								</el-form-item>
								<el-form-item label="作业时间：">
									<el-date-picker v-model="fixgroptime" type="date" placeholder="选择日期" size="mini">
									</el-date-picker>
								</el-form-item>
							</el-form>
						</div>
						<span slot="footer" class="dialog-footer">
							<el-button @click="centerDialogVisible2 = false" size="small">取 消</el-button>
						  	<el-button type="primary" @click="centerDialogVisible2 = false" size="small">确 定</el-button>
						</span>
					</el-dialog>
				</el-main>
			</el-container>
		</div>
	</body>
	<script type="text/javascript" src="../js/index.js"></script>
	<script type="text/javascript">
		var zhanwai = new Vue({
			el: '#zhanwai',
			data: {
				centerDialogVisible: false,
				centerDialogVisible2: false,
				fixcount: '',
				fixgrop: '',
				fixgroptime: '',
				fixitemdata: [{
					fixname: '换水箱上下管',
					fixcount: '2',
					price: '500'
				}],
				formfix: {
					fixid: '20200325001',
					carcard: '粤B45C3',
					tos: '保养',
					cname: '李四',
					phone: '15804853567',
					pickcar: ''
				},
				oppickcar: [{
					value: '小卡车',
					label: '小卡车'
				}, {
					value: '大卡车',
					label: '大卡车'
				}, {
					value: '货车',
					label: '货车'
				}, {
					value: '叉车',
					label: '叉车'
				}, {
					value: '拖车',
					label: '拖车'
				}, ],
				optos: [{
						value: '火车',
						label: '保养'
					},
					{
						value: '机修',
						label: '机修'
					},
					{
						value: '美容',
						label: '美容'
					},
					{
						value: '洗车',
						label: '洗车'
					}
				],
				opfixgrop: [{
						label: '技工组',
						options: [{
								value: '美容组',
								label: '美容组'
							},
							{
								value: '机修组',
								label: '机修组'
							},
							{
								value: '机电组',
								label: '机电组'
							},
							{
								value: '喷漆组',
								label: '喷漆组'
							},
						]
					},
					{
						label: '技工',
						options: [{
								value: '张三',
								label: '张三'
							},
							{
								value: '李四',
								label: '李四'
							},
							{
								value: '王五',
								label: '王五'
							}
						]
					}
				],
				fixitems: [{
					value: '换水箱上下管',
					label: '换水箱上下管'
				}, {
					value: '四轮换位，动平衡',
					label: '四轮换位，动平衡'
				}, {
					value: '新车开蜡',
					label: '新车开蜡'
				}, {
					value: '脚垫清洗',
					label: '脚垫清洗'
				}, {
					value: '室内桑拿、除臭',
					label: '室内桑拿、除臭'
				}, ],
				//表单数据
				form: {
					usercard: '', //会员卡号
					carcard: '', //车牌号码
					integral: '', //积分
					valuecard: '', //储值卡余额
					debt: '', //累计欠款
					price: '' //订金余额
				},
				//车辆信息
				cardata: [{
					brand: '安驰', //品牌
					color: '白色', //颜色
					dated: '2020-3-20', //保险日期
					cartype: '威豹', //车型
					engine: '垃圾发动机', //发动机
					mdate: '2020-3-24' //保养日期
				}],
				//会员信息
				userdata: [{
					type: '一般客户', //类型
					name: '测试信息', //姓名
					address: '湖南省株洲市北大青鸟', //地址
					birthday: '2020-05-15', //生日
					phone: '13154658782' //手机
				}],
				fixdata: [{
					state: '接车', //维修状态
					cname: '李四', //顾客姓名
					tos: '保养', //业务类型
					carid: '京A34E5', //车牌号码
					phone: '13156248762', //手机号码
					usercard: 'LS443', //会员卡号
					fixid: '20200324001', //维修单号
					ctime: '2020-3-24', //开单时间
					status: '接车', //维修状态
					pmoney: '750.0', //预估金额
					pname: '德召文' //接车人
				}],
				fixhistory: [{
					fixid: '20200324001', //维修单号
					pctime: '2020-3-23', //接车时间
					tos: '快速洗车', //业务类型
					etime: '2020-3-27', //完工时间
					cname: '张三', //顾客姓名
					carid: '京E42S6', //车牌号码
					phone: '13875261423', //手机号码
					usercard: 'ZS2234', //会员卡号
					rtime: '2020-3-29', //结算时间
					price: '450.0' //消费金额
				}]
			},
			mounted() {},
			methods: {

			}
		})
	</script>

</html>